!|org.opentaps.fitnesse.OpentapsFixture|

This logs in CRMSFA as admin and wait for the Home page to load
| login to crmsfa |

Creates a lead, this uses methods defined in the CRMSFA fixture
| create lead | !-#lead-! | with company name | Test Find Lead CN | with first name | Test Find Lead FN | with last name | Test Find Lead LN | with to name | someone | with address | salt lake | with city | Kolkata | with zip code | 700091 | with country | IND |

Click on a CRMSFA ui element, they are defined in the CrmsfaElements class
| click button | main tab leads |
| click button | leads shortcut find leads |

Select the ID tab of the find widget
| click on | find leads id tab |
| wait for element | find leads by id | to be visible |
| type text in | find leads by id | value | !-#lead-! |
| click on | find leads submit button |

Wait for the list to load the data
| sleep for | 2 | seconds |

Check the found values, should only find one record
| check element | found lead id | with index | 1 | present |
| check element | found lead id | with index | 2 | absent |
Value should be what we entered in the form
| check element | found lead id | with index | 1 | has text | !-#lead-! |

| check element | found lead first name | with index | 1 | has text | Test Find Lead FN |
| check element | found lead last name | with index | 1 | has text | Test Find Lead LN |
| check element | found lead company name | with index | 1 | has text | Test Find Lead CN |